<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Importing NHANES to R | Survey Data: Design and Examples</title>
  <meta name="description" content="This second level course will teach research trainees to apply methods taught in prior courses towards the development of a fundable research protocol and the analysis and interpretation of real epidemiologic data." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Importing NHANES to R | Survey Data: Design and Examples" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This second level course will teach research trainees to apply methods taught in prior courses towards the development of a fundable research protocol and the analysis and interpretation of real epidemiologic data." />
  <meta name="github-repo" content="ehsanx/504007-SurveyData" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Importing NHANES to R | Survey Data: Design and Examples" />
  
  <meta name="twitter:description" content="This second level course will teach research trainees to apply methods taught in prior courses towards the development of a fundable research protocol and the analysis and interpretation of real epidemiologic data." />
  

<meta name="author" content="Ehsan Karim" />


<meta name="date" content="2020-09-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="nhanes-an-introduction.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets/htmlwidgets.js"></script>
<link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding/datatables.js"></script>
<link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Survey Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Outline</a></li>
<li class="chapter" data-level="2" data-path="tab-3.html"><a href="tab-3.html"><i class="fa fa-check"></i><b>2</b> Model-based Approach</a><ul>
<li class="chapter" data-level="2.1" data-path="tab-3.html"><a href="tab-3.html#example"><i class="fa fa-check"></i><b>2.1</b> Example</a></li>
<li class="chapter" data-level="2.2" data-path="tab-3.html"><a href="tab-3.html#research-question"><i class="fa fa-check"></i><b>2.2</b> Research question</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tab-3.html"><a href="tab-3.html#notations"><i class="fa fa-check"></i><b>2.2.1</b> Notations</a></li>
<li class="chapter" data-level="2.2.2" data-path="tab-3.html"><a href="tab-3.html#assumptions"><i class="fa fa-check"></i><b>2.2.2</b> Assumptions</a></li>
<li class="chapter" data-level="2.2.3" data-path="tab-3.html"><a href="tab-3.html#hypothesis"><i class="fa fa-check"></i><b>2.2.3</b> Hypothesis</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="tab-3.html"><a href="tab-3.html#data"><i class="fa fa-check"></i><b>2.3</b> Data</a><ul>
<li class="chapter" data-level="2.3.1" data-path="tab-3.html"><a href="tab-3.html#data-table"><i class="fa fa-check"></i><b>2.3.1</b> Data table</a></li>
<li class="chapter" data-level="2.3.2" data-path="tab-3.html"><a href="tab-3.html#visualization"><i class="fa fa-check"></i><b>2.3.2</b> Visualization</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tab-3.html"><a href="tab-3.html#checking-assumptions"><i class="fa fa-check"></i><b>2.4</b> Checking assumptions</a></li>
<li class="chapter" data-level="2.5" data-path="tab-3.html"><a href="tab-3.html#analysis"><i class="fa fa-check"></i><b>2.5</b> Analysis</a><ul>
<li class="chapter" data-level="2.5.1" data-path="tab-3.html"><a href="tab-3.html#two-sample-t-test"><i class="fa fa-check"></i><b>2.5.1</b> Two-sample t-test</a></li>
<li class="chapter" data-level="2.5.2" data-path="tab-3.html"><a href="tab-3.html#regression"><i class="fa fa-check"></i><b>2.5.2</b> Regression</a></li>
<li class="chapter" data-level="2.5.3" data-path="tab-3.html"><a href="tab-3.html#anova"><i class="fa fa-check"></i><b>2.5.3</b> ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="tab-3.html"><a href="tab-3.html#verdict"><i class="fa fa-check"></i><b>2.6</b> Verdict</a><ul>
<li class="chapter" data-level="2.6.1" data-path="tab-3.html"><a href="tab-3.html#informal-conclusion"><i class="fa fa-check"></i><b>2.6.1</b> Informal conclusion</a></li>
<li class="chapter" data-level="2.6.2" data-path="tab-3.html"><a href="tab-3.html#a-word-of-caution"><i class="fa fa-check"></i><b>2.6.2</b> A word of caution</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="tab-3.html"><a href="tab-3.html#exercises-optional"><i class="fa fa-check"></i><b>2.7</b> Exercises (Optional)</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="design-based-approach.html"><a href="design-based-approach.html"><i class="fa fa-check"></i><b>3</b> Design-based Approach</a><ul>
<li class="chapter" data-level="3.1" data-path="design-based-approach.html"><a href="design-based-approach.html#sampling"><i class="fa fa-check"></i><b>3.1</b> Sampling</a><ul>
<li class="chapter" data-level="3.1.1" data-path="design-based-approach.html"><a href="design-based-approach.html#steps-of-generalization"><i class="fa fa-check"></i><b>3.1.1</b> Steps of generalization</a></li>
<li class="chapter" data-level="3.1.2" data-path="design-based-approach.html"><a href="design-based-approach.html#types-of-sampling-techniques"><i class="fa fa-check"></i><b>3.1.2</b> Types of sampling techniques</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="design-based-approach.html"><a href="design-based-approach.html#statistical-inference"><i class="fa fa-check"></i><b>3.2</b> Statistical inference</a><ul>
<li class="chapter" data-level="3.2.1" data-path="design-based-approach.html"><a href="design-based-approach.html#model-based"><i class="fa fa-check"></i><b>3.2.1</b> Model-based</a></li>
<li class="chapter" data-level="3.2.2" data-path="design-based-approach.html"><a href="design-based-approach.html#design-based"><i class="fa fa-check"></i><b>3.2.2</b> Design-based</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="design-based-approach.html"><a href="design-based-approach.html#complex-surveys"><i class="fa fa-check"></i><b>3.3</b> Complex surveys</a><ul>
<li class="chapter" data-level="3.3.1" data-path="design-based-approach.html"><a href="design-based-approach.html#design-features"><i class="fa fa-check"></i><b>3.3.1</b> Design features</a></li>
<li class="chapter" data-level="3.3.2" data-path="design-based-approach.html"><a href="design-based-approach.html#design-effect"><i class="fa fa-check"></i><b>3.3.2</b> Design effect</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="design-based-approach.html"><a href="design-based-approach.html#other-ideas"><i class="fa fa-check"></i><b>3.4</b> Other ideas</a></li>
<li class="chapter" data-level="3.5" data-path="design-based-approach.html"><a href="design-based-approach.html#further-readings"><i class="fa fa-check"></i><b>3.5</b> Further readings</a></li>
<li class="chapter" data-level="3.6" data-path="design-based-approach.html"><a href="design-based-approach.html#exercise"><i class="fa fa-check"></i><b>3.6</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="potential-data-sources.html"><a href="potential-data-sources.html"><i class="fa fa-check"></i><b>4</b> Potential Data Sources</a><ul>
<li class="chapter" data-level="4.1" data-path="potential-data-sources.html"><a href="potential-data-sources.html#survey-data-with-features"><i class="fa fa-check"></i><b>4.1</b> Survey data with features</a></li>
<li class="chapter" data-level="4.2" data-path="potential-data-sources.html"><a href="potential-data-sources.html#others"><i class="fa fa-check"></i><b>4.2</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html"><i class="fa fa-check"></i><b>5</b> Importing CCHS to R</a><ul>
<li class="chapter" data-level="5.1" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#downloading-cchs-data-from-ubc"><i class="fa fa-check"></i><b>5.1</b> Downloading CCHS data from UBC</a></li>
<li class="chapter" data-level="5.2" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#reading-and-formatting-the-data"><i class="fa fa-check"></i><b>5.2</b> Reading and Formatting the data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#option-1-processing-data-using-sas"><i class="fa fa-check"></i><b>5.2.1</b> Option 1: Processing data using SAS</a></li>
<li class="chapter" data-level="5.2.2" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#option-2-processing-data-using-pspp-free"><i class="fa fa-check"></i><b>5.2.2</b> Option 2: Processing data using PSPP (Free)</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#processing-data-in-r"><i class="fa fa-check"></i><b>5.3</b> Processing data in R</a><ul>
<li class="chapter" data-level="5.3.1" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#download-software"><i class="fa fa-check"></i><b>5.3.1</b> Download software</a></li>
<li class="chapter" data-level="5.3.2" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#import-export-and-load-data-into-r"><i class="fa fa-check"></i><b>5.3.2</b> Import, export and load data into R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html"><i class="fa fa-check"></i><b>6</b> NHANES: an introduction</a><ul>
<li class="chapter" data-level="6.1" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#overview"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#survey-history"><i class="fa fa-check"></i><b>6.2</b> Survey history</a></li>
<li class="chapter" data-level="6.3" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#nhanes-datafile-and-documents"><i class="fa fa-check"></i><b>6.3</b> NHANES datafile and documents</a><ul>
<li class="chapter" data-level="6.3.1" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#file-format"><i class="fa fa-check"></i><b>6.3.1</b> File format</a></li>
<li class="chapter" data-level="6.3.2" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#continuous-nhanes-components"><i class="fa fa-check"></i><b>6.3.2</b> Continuous NHANES Components</a></li>
<li class="chapter" data-level="6.3.3" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#public-release-excludes"><i class="fa fa-check"></i><b>6.3.3</b> Public release excludes</a></li>
<li class="chapter" data-level="6.3.4" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#combining-data"><i class="fa fa-check"></i><b>6.3.4</b> Combining data</a></li>
<li class="chapter" data-level="6.3.5" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#missing-data-and-outliers"><i class="fa fa-check"></i><b>6.3.5</b> Missing data and outliers</a></li>
<li class="chapter" data-level="6.3.6" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#nhanes-documents"><i class="fa fa-check"></i><b>6.3.6</b> NHANES documents</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="nhanes-an-introduction.html"><a href="nhanes-an-introduction.html#exercise-web"><i class="fa fa-check"></i><b>6.4</b> Exercise (web)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html"><i class="fa fa-check"></i><b>7</b> Importing NHANES to R</a><ul>
<li class="chapter" data-level="7.1" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#nhanes-dataset"><i class="fa fa-check"></i><b>7.1</b> NHANES Dataset</a></li>
<li class="chapter" data-level="7.2" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#accessing-nhanes-data"><i class="fa fa-check"></i><b>7.2</b> Accessing NHANES Data</a><ul>
<li class="chapter" data-level="7.2.1" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#accessing-nhanes-data-directly-from-the-cdc-website"><i class="fa fa-check"></i><b>7.2.1</b> Accessing NHANES Data Directly from the CDC website</a></li>
<li class="chapter" data-level="7.2.2" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#accessing-nhanes-data-using-r-packages"><i class="fa fa-check"></i><b>7.2.2</b> Accessing NHANES Data Using R Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://ehsank.com/" target="blank">Author website</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Survey Data: Design and Examples</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-nhanes-to-r" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Importing NHANES to R</h1>
<p>This is a short instruction document of how to get NHANES dataset from the US CDC site to your RStudio environment. Once we bring the dataset into RStudio, the next step is to think about creating analytic dataset.</p>
<div id="nhanes-dataset" class="section level2">
<h2><span class="header-section-number">7.1</span> NHANES Dataset</h2>
<p>National Center for Health Statistics (NCHS) conducts National Health and Nutrition Examination Survey (NHANES) (<span class="citation">CDC,NCHS (<a href="references.html#ref-nhanes" role="doc-biblioref">2018</a>)</span>). These surveys are designed to evaluate the health and nutritional status of U.S. adults and children. These surveys are being administered in two-year cycles or intervals starting from 1999-2000. Prior to 1999, a number of surveys were conducted (e.g., NHANES III), but in our discussion, we will mostly restrict our discussions to `continuous NHANES’ (e.g., NHANES 1999-2000 to NHANES 2017-2018).</p>
<p>Witin the CDC website, continuous NHANES data are available in 5 categories:</p>
<pre><code>- Demographics
- Dietary
- Examination
- Laboratory
- Questionnaire</code></pre>
</div>
<div id="accessing-nhanes-data" class="section level2">
<h2><span class="header-section-number">7.2</span> Accessing NHANES Data</h2>
<p>In the following example, we will see how to download ‘Demographics’ data, and check associated variable in that data.</p>
<div id="accessing-nhanes-data-directly-from-the-cdc-website" class="section level3">
<h3><span class="header-section-number">7.2.1</span> Accessing NHANES Data Directly from the CDC website</h3>
<p>NHANES 1999-2000 and onward survey datasets are publicly available at <a href="https://wwwn.cdc.gov/nchs/nhanes/">wwwn.cdc.gov/nchs/nhanes/</a>.</p>
<p><img src="images/n15.png" width="65%" /></p>
<ul>
<li><strong>Step 1</strong>: Say, for example, we are interested about NHANES 2015-2016 surveys. Clicking the associated link in the above Figure gets us to the page for the cirresponding cycle (see below).</li>
</ul>
<p><img src="images/n15demo.png" width="65%" /></p>
<ul>
<li><strong>Step 2</strong>: There are various types of data available for this survey. Let’s explore the demographic information from this clycle. These data are mostly available in the form of SAS `XPT’ format (see below).</li>
</ul>
<p><img src="images/xptsasdata.png" width="65%" /></p>
<ul>
<li><strong>Step 3</strong>: We can download the XPT data in the local PC folder and read the data into R as as follows:</li>
</ul>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1"><span class="co"># install.packages(&quot;SASxport&quot;)</span></a>
<a class="sourceLine" id="cb78-2" title="2"><span class="kw">require</span>(SASxport)</a>
<a class="sourceLine" id="cb78-3" title="3"><span class="kw">library</span>(foreign)</a>
<a class="sourceLine" id="cb78-4" title="4">DEMO &lt;-<span class="st"> </span><span class="kw">read.xport</span>(<span class="st">&quot;SurveyData</span><span class="ch">\\</span><span class="st">DEMO_I.XPT&quot;</span>)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;foreign&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:SASxport&#39;:
## 
##     lookup.xport, read.xport</code></pre>
<ul>
<li><strong>Step 4</strong>: Once data is imported in RStudio, we will see the <code>DEMO</code> object listed under data window (see below):</li>
</ul>
<p><img src="images/rdata.png" width="65%" /></p>
<ul>
<li><strong>Step 5</strong>: We can also check the variable names in this <code>DEMO</code> dataset as follows:</li>
</ul>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" title="1"><span class="kw">names</span>(DEMO)</a></code></pre></div>
<pre><code>##  [1] &quot;SEQN&quot;     &quot;SDDSRVYR&quot; &quot;RIDSTATR&quot; &quot;RIAGENDR&quot; &quot;RIDAGEYR&quot; &quot;RIDAGEMN&quot;
##  [7] &quot;RIDRETH1&quot; &quot;RIDRETH3&quot; &quot;RIDEXMON&quot; &quot;RIDEXAGM&quot; &quot;DMQMILIZ&quot; &quot;DMQADFC&quot; 
## [13] &quot;DMDBORN4&quot; &quot;DMDCITZN&quot; &quot;DMDYRSUS&quot; &quot;DMDEDUC3&quot; &quot;DMDEDUC2&quot; &quot;DMDMARTL&quot;
## [19] &quot;RIDEXPRG&quot; &quot;SIALANG&quot;  &quot;SIAPROXY&quot; &quot;SIAINTRP&quot; &quot;FIALANG&quot;  &quot;FIAPROXY&quot;
## [25] &quot;FIAINTRP&quot; &quot;MIALANG&quot;  &quot;MIAPROXY&quot; &quot;MIAINTRP&quot; &quot;AIALANGA&quot; &quot;DMDHHSIZ&quot;
## [31] &quot;DMDFMSIZ&quot; &quot;DMDHHSZA&quot; &quot;DMDHHSZB&quot; &quot;DMDHHSZE&quot; &quot;DMDHRGND&quot; &quot;DMDHRAGE&quot;
## [37] &quot;DMDHRBR4&quot; &quot;DMDHREDU&quot; &quot;DMDHRMAR&quot; &quot;DMDHSEDU&quot; &quot;WTINT2YR&quot; &quot;WTMEC2YR&quot;
## [43] &quot;SDMVPSU&quot;  &quot;SDMVSTRA&quot; &quot;INDHHIN2&quot; &quot;INDFMIN2&quot; &quot;INDFMPIR&quot;</code></pre>
<ul>
<li><strong>Step 6</strong>: We can open the data in RStudio in the dataview window (by clicking the <code>DEMO</code> data from the data window). The next Figure shows only a few columns and rows from this large dataset. Note that there are some values marked as “NA”, which represents missing values.</li>
</ul>
<p><img src="images/dataview.png" width="65%" /></p>
<ul>
<li><strong>Step 7</strong>: There is a column name associated with each column, e.g., <code>DMDHSEDU</code> in the first column in the above Figure. To understand what the column names mean in this Figure, we need to take a look at the codebook. To access codebook, click the <code>'DEMO|Doc'</code> link (in step 2). This will show the data documentation and associated codebook (see the next Figure).</li>
</ul>
<p><img src="images/toc.png" width="65%" /></p>
<ul>
<li><strong>Step 8</strong>: We can see a link for the column or variable <code>DMDHSEDU</code> in the table of content (in the above Figure). Clicking that link will provide us further information about what this variable means (see the next Figure).</li>
</ul>
<p><img src="images/DMDHSEDU.png" width="65%" /></p>
<ul>
<li><strong>Step 9</strong>: We can assess if the numbers reported under count and cumulative (from the above Figure) matches with what we get from the <code>DEMO</code> data we just imported (particularly, for the <code>DMDHSEDU</code> variable):</li>
</ul>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" title="1"><span class="kw">table</span>(DEMO<span class="op">$</span>DMDHSEDU)</a></code></pre></div>
<pre><code>## 
##    1    2    3    4    5    7    9 
##  619  511  980 1462 1629    2   23</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">cumsum</span>(<span class="kw">table</span>(DEMO<span class="op">$</span>DMDHSEDU))</a></code></pre></div>
<pre><code>##    1    2    3    4    5    7    9 
##  619 1130 2110 3572 5201 5203 5226</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" title="1"><span class="kw">length</span>(<span class="kw">is.na</span>(DEMO<span class="op">$</span>DMDHSEDU))</a></code></pre></div>
<pre><code>## [1] 9971</code></pre>
</div>
<div id="accessing-nhanes-data-using-r-packages" class="section level3">
<h3><span class="header-section-number">7.2.2</span> Accessing NHANES Data Using R Packages</h3>
<div id="nhanesa" class="section level4">
<h4><span class="header-section-number">7.2.2.1</span> nhanesA</h4>
<p><code>nhanesA</code> provides a convenient way to download and analyze NHANES survey data.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1"><span class="co">#install.packages(&quot;nhanesA&quot;)</span></a>
<a class="sourceLine" id="cb89-2" title="2"><span class="kw">library</span>(nhanesA)</a></code></pre></div>
<ul>
<li><strong>Step 1</strong>: Witin the CDC website, NHANES data are available in 5 categories
<ul>
<li>Demographics (<code>DEMO</code>)</li>
<li>Dietary (<code>DIET</code>)</li>
<li>Examination (<code>EXAM</code>)</li>
<li>Laboratory (<code>LAB</code>)</li>
<li>Questionnaire (<code>Q</code>)</li>
</ul></li>
</ul>
<p>To get a list of available variables within a datafile, we run the following command (e.g., we check variable names within <code>DEMO</code> data):</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="kw">library</span>(nhanesA)</a></code></pre></div>
<pre><code>## Warning: package &#39;nhanesA&#39; was built under R version 4.0.2</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1"><span class="kw">nhanesTables</span>(<span class="dt">data_group=</span><span class="st">&#39;DEMO&#39;</span>, <span class="dt">year=</span><span class="dv">2015</span>)</a></code></pre></div>
<pre><code>##   FileName                              Description
## 1   DEMO_I Demographic Variables and Sample Weights</code></pre>
<ul>
<li><strong>Step 2</strong>: We can obtain the summaries of the downloaded data as follows (see below):</li>
</ul>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1">demo &lt;-<span class="st"> </span><span class="kw">nhanes</span>(<span class="st">&#39;DEMO_I&#39;</span>)</a></code></pre></div>
<pre><code>## Processing SAS dataset DEMO_I 	 ..</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1"><span class="kw">names</span>(demo)</a></code></pre></div>
<pre><code>##  [1] &quot;SEQN&quot;     &quot;SDDSRVYR&quot; &quot;RIDSTATR&quot; &quot;RIAGENDR&quot; &quot;RIDAGEYR&quot; &quot;RIDAGEMN&quot;
##  [7] &quot;RIDRETH1&quot; &quot;RIDRETH3&quot; &quot;RIDEXMON&quot; &quot;RIDEXAGM&quot; &quot;DMQMILIZ&quot; &quot;DMQADFC&quot; 
## [13] &quot;DMDBORN4&quot; &quot;DMDCITZN&quot; &quot;DMDYRSUS&quot; &quot;DMDEDUC3&quot; &quot;DMDEDUC2&quot; &quot;DMDMARTL&quot;
## [19] &quot;RIDEXPRG&quot; &quot;SIALANG&quot;  &quot;SIAPROXY&quot; &quot;SIAINTRP&quot; &quot;FIALANG&quot;  &quot;FIAPROXY&quot;
## [25] &quot;FIAINTRP&quot; &quot;MIALANG&quot;  &quot;MIAPROXY&quot; &quot;MIAINTRP&quot; &quot;AIALANGA&quot; &quot;DMDHHSIZ&quot;
## [31] &quot;DMDFMSIZ&quot; &quot;DMDHHSZA&quot; &quot;DMDHHSZB&quot; &quot;DMDHHSZE&quot; &quot;DMDHRGND&quot; &quot;DMDHRAGE&quot;
## [37] &quot;DMDHRBR4&quot; &quot;DMDHREDU&quot; &quot;DMDHRMAR&quot; &quot;DMDHSEDU&quot; &quot;WTINT2YR&quot; &quot;WTMEC2YR&quot;
## [43] &quot;SDMVPSU&quot;  &quot;SDMVSTRA&quot; &quot;INDHHIN2&quot; &quot;INDFMIN2&quot; &quot;INDFMPIR&quot;</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1"><span class="kw">table</span>(demo<span class="op">$</span>DMDHSEDU)</a></code></pre></div>
<pre><code>## 
##    1    2    3    4    5    7    9 
##  619  511  980 1462 1629    2   23</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1"><span class="kw">cumsum</span>(<span class="kw">table</span>(demo<span class="op">$</span>DMDHSEDU))</a></code></pre></div>
<pre><code>##    1    2    3    4    5    7    9 
##  619 1130 2110 3572 5201 5203 5226</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1"><span class="kw">length</span>(<span class="kw">is.na</span>(demo<span class="op">$</span>DMDHSEDU))</a></code></pre></div>
<pre><code>## [1] 9971</code></pre>
</div>
<div id="rnhanes" class="section level4">
<h4><span class="header-section-number">7.2.2.2</span> RNHANES</h4>
<p><code>RNHANES</code> (<span class="citation">Susmann (<a href="references.html#ref-RNHANES" role="doc-biblioref">2016</a>)</span>) is another packages for downloading the NHANES data easily. Try yourself.</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="nhanes-an-introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SurveyBook.pdf"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
