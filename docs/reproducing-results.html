<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Reproducing Results | Survey Data: Design and Examples</title>
  <meta name="description" content="This second level course will teach research trainees to apply methods taught in prior courses towards the development of a fundable research protocol and the analysis and interpretation of real epidemiologic data." />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Reproducing Results | Survey Data: Design and Examples" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This second level course will teach research trainees to apply methods taught in prior courses towards the development of a fundable research protocol and the analysis and interpretation of real epidemiologic data." />
  <meta name="github-repo" content="ehsanx/504007-SurveyData" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Reproducing Results | Survey Data: Design and Examples" />
  
  <meta name="twitter:description" content="This second level course will teach research trainees to apply methods taught in prior courses towards the development of a fundable research protocol and the analysis and interpretation of real epidemiologic data." />
  

<meta name="author" content="M. Ehsan Karim" />


<meta name="date" content="2022-09-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="importing-nhanes-to-r.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.24/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Survey Data</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preamble</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#description"><i class="fa fa-check"></i>Description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#outline"><i class="fa fa-check"></i>Outline</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#version-history"><i class="fa fa-check"></i>Version history</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#comments"><i class="fa fa-check"></i>Comments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="tab-3.html"><a href="tab-3.html"><i class="fa fa-check"></i><b>1</b> Model-based Approach</a>
<ul>
<li class="chapter" data-level="1.1" data-path="tab-3.html"><a href="tab-3.html#example"><i class="fa fa-check"></i><b>1.1</b> Example</a></li>
<li class="chapter" data-level="1.2" data-path="tab-3.html"><a href="tab-3.html#research-question"><i class="fa fa-check"></i><b>1.2</b> Research question</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="tab-3.html"><a href="tab-3.html#notations"><i class="fa fa-check"></i><b>1.2.1</b> Notations</a></li>
<li class="chapter" data-level="1.2.2" data-path="tab-3.html"><a href="tab-3.html#assumptions"><i class="fa fa-check"></i><b>1.2.2</b> Assumptions</a></li>
<li class="chapter" data-level="1.2.3" data-path="tab-3.html"><a href="tab-3.html#hypothesis"><i class="fa fa-check"></i><b>1.2.3</b> Hypothesis</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="tab-3.html"><a href="tab-3.html#data"><i class="fa fa-check"></i><b>1.3</b> Data</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="tab-3.html"><a href="tab-3.html#data-table"><i class="fa fa-check"></i><b>1.3.1</b> Data table</a></li>
<li class="chapter" data-level="1.3.2" data-path="tab-3.html"><a href="tab-3.html#visualization"><i class="fa fa-check"></i><b>1.3.2</b> Visualization</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tab-3.html"><a href="tab-3.html#checking-assumptions"><i class="fa fa-check"></i><b>1.4</b> Checking assumptions</a></li>
<li class="chapter" data-level="1.5" data-path="tab-3.html"><a href="tab-3.html#analysis"><i class="fa fa-check"></i><b>1.5</b> Analysis</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="tab-3.html"><a href="tab-3.html#two-sample-t-test"><i class="fa fa-check"></i><b>1.5.1</b> Two-sample t-test</a></li>
<li class="chapter" data-level="1.5.2" data-path="tab-3.html"><a href="tab-3.html#regression"><i class="fa fa-check"></i><b>1.5.2</b> Regression</a></li>
<li class="chapter" data-level="1.5.3" data-path="tab-3.html"><a href="tab-3.html#anova"><i class="fa fa-check"></i><b>1.5.3</b> ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="tab-3.html"><a href="tab-3.html#verdict"><i class="fa fa-check"></i><b>1.6</b> Verdict</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="tab-3.html"><a href="tab-3.html#informal-conclusion"><i class="fa fa-check"></i><b>1.6.1</b> Informal conclusion</a></li>
<li class="chapter" data-level="1.6.2" data-path="tab-3.html"><a href="tab-3.html#a-word-of-caution"><i class="fa fa-check"></i><b>1.6.2</b> A word of caution</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="tab-3.html"><a href="tab-3.html#exercises-optional"><i class="fa fa-check"></i><b>1.7</b> Exercises (Optional)</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="design-based-approach.html"><a href="design-based-approach.html"><i class="fa fa-check"></i><b>2</b> Design-based Approach</a>
<ul>
<li class="chapter" data-level="2.1" data-path="design-based-approach.html"><a href="design-based-approach.html#sampling"><i class="fa fa-check"></i><b>2.1</b> Sampling</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="design-based-approach.html"><a href="design-based-approach.html#steps-of-generalization"><i class="fa fa-check"></i><b>2.1.1</b> Steps of generalization</a></li>
<li class="chapter" data-level="2.1.2" data-path="design-based-approach.html"><a href="design-based-approach.html#types-of-sampling-techniques"><i class="fa fa-check"></i><b>2.1.2</b> Types of sampling techniques</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="design-based-approach.html"><a href="design-based-approach.html#statistical-inference"><i class="fa fa-check"></i><b>2.2</b> Statistical inference</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="design-based-approach.html"><a href="design-based-approach.html#model-based"><i class="fa fa-check"></i><b>2.2.1</b> Model-based</a></li>
<li class="chapter" data-level="2.2.2" data-path="design-based-approach.html"><a href="design-based-approach.html#design-based"><i class="fa fa-check"></i><b>2.2.2</b> Design-based</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="design-based-approach.html"><a href="design-based-approach.html#complex-surveys"><i class="fa fa-check"></i><b>2.3</b> Complex surveys</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="design-based-approach.html"><a href="design-based-approach.html#design-features"><i class="fa fa-check"></i><b>2.3.1</b> Design features</a></li>
<li class="chapter" data-level="2.3.2" data-path="design-based-approach.html"><a href="design-based-approach.html#design-effect"><i class="fa fa-check"></i><b>2.3.2</b> Design effect</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="design-based-approach.html"><a href="design-based-approach.html#other-ideas"><i class="fa fa-check"></i><b>2.4</b> Other ideas</a></li>
<li class="chapter" data-level="2.5" data-path="design-based-approach.html"><a href="design-based-approach.html#further-readings"><i class="fa fa-check"></i><b>2.5</b> Further readings</a></li>
<li class="chapter" data-level="2.6" data-path="design-based-approach.html"><a href="design-based-approach.html#exercise"><i class="fa fa-check"></i><b>2.6</b> Exercise</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="potential-data-sources.html"><a href="potential-data-sources.html"><i class="fa fa-check"></i><b>3</b> Potential Data Sources</a>
<ul>
<li class="chapter" data-level="3.1" data-path="potential-data-sources.html"><a href="potential-data-sources.html#survey-data-with-features"><i class="fa fa-check"></i><b>3.1</b> Survey data with features</a></li>
<li class="chapter" data-level="3.2" data-path="potential-data-sources.html"><a href="potential-data-sources.html#others"><i class="fa fa-check"></i><b>3.2</b> Others</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html"><i class="fa fa-check"></i><b>4</b> Importing CCHS to R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#downloading-cchs-data-from-ubc"><i class="fa fa-check"></i><b>4.1</b> Downloading CCHS data from UBC</a></li>
<li class="chapter" data-level="4.2" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#reading-and-formatting-the-data"><i class="fa fa-check"></i><b>4.2</b> Reading and Formatting the data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#option-1-processing-data-using-sas"><i class="fa fa-check"></i><b>4.2.1</b> Option 1: Processing data using SAS</a></li>
<li class="chapter" data-level="4.2.2" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#option-2-processing-data-using-pspp-free"><i class="fa fa-check"></i><b>4.2.2</b> Option 2: Processing data using PSPP (Free)</a></li>
<li class="chapter" data-level="4.2.3" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#option-3-processing-data-using-spss"><i class="fa fa-check"></i><b>4.2.3</b> Option 3: Processing data using SPSS</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#processing-data-in-r"><i class="fa fa-check"></i><b>4.3</b> Processing data in R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#download-software"><i class="fa fa-check"></i><b>4.3.1</b> Download software</a></li>
<li class="chapter" data-level="4.3.2" data-path="importing-cchs-to-r.html"><a href="importing-cchs-to-r.html#import-export-and-load-data-into-r"><i class="fa fa-check"></i><b>4.3.2</b> Import, export and load data into R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html"><i class="fa fa-check"></i><b>5</b> Demystifying NHANES</a>
<ul>
<li class="chapter" data-level="5.1" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#overview"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#survey-history"><i class="fa fa-check"></i><b>5.2</b> Survey history</a></li>
<li class="chapter" data-level="5.3" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#nhanes-datafile-and-documents"><i class="fa fa-check"></i><b>5.3</b> NHANES datafile and documents</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#file-format"><i class="fa fa-check"></i><b>5.3.1</b> File format</a></li>
<li class="chapter" data-level="5.3.2" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#continuous-nhanes-components"><i class="fa fa-check"></i><b>5.3.2</b> Continuous NHANES Components</a></li>
<li class="chapter" data-level="5.3.3" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#public-release-excludes"><i class="fa fa-check"></i><b>5.3.3</b> Public release excludes</a></li>
<li class="chapter" data-level="5.3.4" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#combining-data"><i class="fa fa-check"></i><b>5.3.4</b> Combining data</a></li>
<li class="chapter" data-level="5.3.5" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#missing-data-and-outliers"><i class="fa fa-check"></i><b>5.3.5</b> Missing data and outliers</a></li>
<li class="chapter" data-level="5.3.6" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#nhanes-documents"><i class="fa fa-check"></i><b>5.3.6</b> NHANES documents</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="demystifying-nhanes.html"><a href="demystifying-nhanes.html#exercise-web"><i class="fa fa-check"></i><b>5.4</b> Exercise (web)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html"><i class="fa fa-check"></i><b>6</b> Importing NHANES to R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#nhanes-dataset"><i class="fa fa-check"></i><b>6.1</b> NHANES Dataset</a></li>
<li class="chapter" data-level="6.2" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#accessing-nhanes-data"><i class="fa fa-check"></i><b>6.2</b> Accessing NHANES Data</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#accessing-nhanes-data-directly-from-the-cdc-website"><i class="fa fa-check"></i><b>6.2.1</b> Accessing NHANES Data Directly from the CDC website</a></li>
<li class="chapter" data-level="6.2.2" data-path="importing-nhanes-to-r.html"><a href="importing-nhanes-to-r.html#accessing-nhanes-data-using-r-packages"><i class="fa fa-check"></i><b>6.2.2</b> Accessing NHANES Data Using R Packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="reproducing-results.html"><a href="reproducing-results.html"><i class="fa fa-check"></i><b>7</b> Reproducing Results</a>
<ul>
<li class="chapter" data-level="7.1" data-path="reproducing-results.html"><a href="reproducing-results.html#reproduce-results-from-a-jama-article"><i class="fa fa-check"></i><b>7.1</b> Reproduce results from a JAMA article</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="reproducing-results.html"><a href="reproducing-results.html#article"><i class="fa fa-check"></i><b>7.1.1</b> Article</a></li>
<li class="chapter" data-level="7.1.2" data-path="reproducing-results.html"><a href="reproducing-results.html#task"><i class="fa fa-check"></i><b>7.1.2</b> Task</a></li>
<li class="chapter" data-level="7.1.3" data-path="reproducing-results.html"><a href="reproducing-results.html#eligibility-criteria"><i class="fa fa-check"></i><b>7.1.3</b> Eligibility criteria</a></li>
<li class="chapter" data-level="7.1.4" data-path="reproducing-results.html"><a href="reproducing-results.html#variables-of-interest"><i class="fa fa-check"></i><b>7.1.4</b> Variables of interest</a></li>
<li class="chapter" data-level="7.1.5" data-path="reproducing-results.html"><a href="reproducing-results.html#searching-for-necessary-variables"><i class="fa fa-check"></i><b>7.1.5</b> Searching for necessary variables</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="reproducing-results.html"><a href="reproducing-results.html#downloading-relevant-variables"><i class="fa fa-check"></i><b>7.2</b> Downloading relevant variables</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="reproducing-results.html"><a href="reproducing-results.html#demographic-data"><i class="fa fa-check"></i><b>7.2.1</b> Demographic data</a></li>
<li class="chapter" data-level="7.2.2" data-path="reproducing-results.html"><a href="reproducing-results.html#examination-data"><i class="fa fa-check"></i><b>7.2.2</b> Examination data</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="reproducing-results.html"><a href="reproducing-results.html#retain-only-useful-variables"><i class="fa fa-check"></i><b>7.3</b> Retain only useful variables</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="reproducing-results.html"><a href="reproducing-results.html#quick-pick-at-the-data"><i class="fa fa-check"></i><b>7.3.1</b> Quick pick at the data</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="reproducing-results.html"><a href="reproducing-results.html#merge-dara"><i class="fa fa-check"></i><b>7.4</b> Merge dara</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="reproducing-results.html"><a href="reproducing-results.html#investigate-merged-data"><i class="fa fa-check"></i><b>7.4.1</b> Investigate merged data</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="reproducing-results.html"><a href="reproducing-results.html#applying-eligibility-criteria"><i class="fa fa-check"></i><b>7.5</b> Applying eligibility criteria</a></li>
<li class="chapter" data-level="7.6" data-path="reproducing-results.html"><a href="reproducing-results.html#recoding-variables"><i class="fa fa-check"></i><b>7.6</b> Recoding variables</a></li>
<li class="chapter" data-level="7.7" data-path="reproducing-results.html"><a href="reproducing-results.html#reproducing-table-1"><i class="fa fa-check"></i><b>7.7</b> Reproducing Table 1</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://ehsank.com/" target="blank">Author website</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Survey Data: Design and Examples</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reproducing-results" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Reproducing Results<a href="reproducing-results.html#reproducing-results" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="reproduce-results-from-a-jama-article" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Reproduce results from a JAMA article<a href="reproducing-results.html#reproduce-results-from-a-jama-article" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="article" class="section level3 hasAnchor" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Article<a href="reproducing-results.html#article" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let us use the article by <span class="citation">Flegal et al. (<a href="references.html#ref-flegal2016trends" role="doc-biblioref">2016</a>)</span> as our reference. <a href="https://jamanetwork.com/journals/jama/fullarticle/2526639">DOI:10.1001/jama.2016.6458</a>, or <a href="https://libkey.io/10.1001/jama.2016.6458">UBC access</a>.</p>
</div>
<div id="task" class="section level3 hasAnchor" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Task<a href="reproducing-results.html#task" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our task here is to reproduce the numbers reported in Table 1 from this article.</p>
</div>
<div id="eligibility-criteria" class="section level3 hasAnchor" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Eligibility criteria<a href="reproducing-results.html#eligibility-criteria" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Methods section from this article says:</p>
<ul>
<li>“For adults aged 20 years or older, obesity was defined according to clinical guidelines.”</li>
<li>“Pregnant women were excluded from analysis.”</li>
<li>“Participant age was grouped into categories of 20 to 39 years, 40 to 59 years, and 60 years and older.”</li>
<li>Table 1 title says NHANES 2013-2014 was used.</li>
</ul>
</div>
<div id="variables-of-interest" class="section level3 hasAnchor" number="7.1.4">
<h3><span class="header-section-number">7.1.4</span> Variables of interest<a href="reproducing-results.html#variables-of-interest" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Variables of interest:</p>
<ul>
<li><code>age</code> (eligibility and stratifying variable)</li>
<li><code>sex</code> (stratifying variable)</li>
<li><code>race</code> (stratifying variable)</li>
<li><code>pregnancy status</code> (eligibility)</li>
<li><code>obesity/BMI status</code> (main variable of interest for the paper)</li>
</ul>
</div>
<div id="searching-for-necessary-variables" class="section level3 hasAnchor" number="7.1.5">
<h3><span class="header-section-number">7.1.5</span> Searching for necessary variables<a href="reproducing-results.html#searching-for-necessary-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Search these variables using the NHANES variable keyword search within the 2013-14 cycle: <a href="https://wwwn.cdc.gov/nchs/nhanes/search/default.aspx">cdc.gov/nchs/nhanes/search/</a></p>
<ul>
<li>Below is an example for BMI variable search:</li>
</ul>
<p><img src="images/bmi.png" width="80%" /></p>
<ul>
<li>Identifying the component: Note that H is the index for 2013-14 cycle as seen in the picture:</li>
</ul>
<p><img src="images/bmi2.png" width="80%" /></p>
<ul>
<li>Identifying the variable:</li>
</ul>
<p><img src="images/bmi3.png" width="80%" /></p>
<ul>
<li>Rest of the variables all coming from demographic component</li>
</ul>
<p><img src="images/demo.png" width="80%" /></p>
</div>
</div>
<div id="downloading-relevant-variables" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Downloading relevant variables<a href="reproducing-results.html#downloading-relevant-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="demographic-data" class="section level3 hasAnchor" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Demographic data<a href="reproducing-results.html#demographic-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are using same H index for demographic.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="reproducing-results.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nhanesA)</span>
<span id="cb101-2"><a href="reproducing-results.html#cb101-2" aria-hidden="true" tabindex="-1"></a>demo13 <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">&#39;DEMO_H&#39;</span>)</span>
<span id="cb101-3"><a href="reproducing-results.html#cb101-3" aria-hidden="true" tabindex="-1"></a>Demo13 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">&#39;DEMO_H&#39;</span>, <span class="fu">names</span>(demo13), <span class="at">data=</span>demo13)</span></code></pre></div>
<pre><code>## No translation table is available for SEQN</code></pre>
<pre><code>## Translated columns: RIDSTATR RIAGENDR RIDRETH1 RIDRETH3 RIDEXMON DMQMILIZ DMQADFC DMDBORN4 DMDCITZN DMDYRSUS DMDEDUC3 DMDEDUC2 DMDMARTL RIDEXPRG SIALANG SIAPROXY SIAINTRP FIALANG FIAPROXY FIAINTRP MIALANG MIAPROXY MIAINTRP AIALANGA DMDHHSIZ DMDFMSIZ DMDHHSZA DMDHHSZB DMDHHSZE DMDHRGND DMDHRBR4 DMDHREDU DMDHRMAR DMDHSEDU INDHHIN2 INDFMIN2</code></pre>
</div>
<div id="examination-data" class="section level3 hasAnchor" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Examination data<a href="reproducing-results.html#examination-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are using same H index for BMI.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="reproducing-results.html#cb104-1" aria-hidden="true" tabindex="-1"></a>exam13 <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">&#39;BMX_H&#39;</span>)</span>
<span id="cb104-2"><a href="reproducing-results.html#cb104-2" aria-hidden="true" tabindex="-1"></a>Exam13 <span class="ot">&lt;-</span> <span class="fu">nhanesTranslate</span>(<span class="st">&#39;BMX_H&#39;</span>, <span class="fu">names</span>(exam13), <span class="at">data=</span>exam13)</span></code></pre></div>
<pre><code>## No translation table is available for SEQN</code></pre>
<pre><code>## Translated columns: BMDSTATS BMIWT BMIHT BMDBMIC BMDSADCM</code></pre>
<p>See all the column names in the data</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="reproducing-results.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Demo13)</span></code></pre></div>
<pre><code>##  [1] &quot;SEQN&quot;     &quot;SDDSRVYR&quot; &quot;RIDSTATR&quot; &quot;RIAGENDR&quot; &quot;RIDAGEYR&quot; &quot;RIDAGEMN&quot;
##  [7] &quot;RIDRETH1&quot; &quot;RIDRETH3&quot; &quot;RIDEXMON&quot; &quot;RIDEXAGM&quot; &quot;DMQMILIZ&quot; &quot;DMQADFC&quot; 
## [13] &quot;DMDBORN4&quot; &quot;DMDCITZN&quot; &quot;DMDYRSUS&quot; &quot;DMDEDUC3&quot; &quot;DMDEDUC2&quot; &quot;DMDMARTL&quot;
## [19] &quot;RIDEXPRG&quot; &quot;SIALANG&quot;  &quot;SIAPROXY&quot; &quot;SIAINTRP&quot; &quot;FIALANG&quot;  &quot;FIAPROXY&quot;
## [25] &quot;FIAINTRP&quot; &quot;MIALANG&quot;  &quot;MIAPROXY&quot; &quot;MIAINTRP&quot; &quot;AIALANGA&quot; &quot;DMDHHSIZ&quot;
## [31] &quot;DMDFMSIZ&quot; &quot;DMDHHSZA&quot; &quot;DMDHHSZB&quot; &quot;DMDHHSZE&quot; &quot;DMDHRGND&quot; &quot;DMDHRAGE&quot;
## [37] &quot;DMDHRBR4&quot; &quot;DMDHREDU&quot; &quot;DMDHRMAR&quot; &quot;DMDHSEDU&quot; &quot;WTINT2YR&quot; &quot;WTMEC2YR&quot;
## [43] &quot;SDMVPSU&quot;  &quot;SDMVSTRA&quot; &quot;INDHHIN2&quot; &quot;INDFMIN2&quot; &quot;INDFMPIR&quot;</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="reproducing-results.html#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(Exam13)</span></code></pre></div>
<pre><code>##  [1] &quot;SEQN&quot;     &quot;BMDSTATS&quot; &quot;BMXWT&quot;    &quot;BMIWT&quot;    &quot;BMXRECUM&quot; &quot;BMIRECUM&quot;
##  [7] &quot;BMXHEAD&quot;  &quot;BMIHEAD&quot;  &quot;BMXHT&quot;    &quot;BMIHT&quot;    &quot;BMXBMI&quot;   &quot;BMDBMIC&quot; 
## [13] &quot;BMXLEG&quot;   &quot;BMILEG&quot;   &quot;BMXARML&quot;  &quot;BMIARML&quot;  &quot;BMXARMC&quot;  &quot;BMIARMC&quot; 
## [19] &quot;BMXWAIST&quot; &quot;BMIWAIST&quot; &quot;BMXSAD1&quot;  &quot;BMXSAD2&quot;  &quot;BMXSAD3&quot;  &quot;BMXSAD4&quot; 
## [25] &quot;BMDAVSAD&quot; &quot;BMDSADCM&quot;</code></pre>
</div>
</div>
<div id="retain-only-useful-variables" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Retain only useful variables<a href="reproducing-results.html#retain-only-useful-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="reproducing-results.html#cb111-1" aria-hidden="true" tabindex="-1"></a>demo13select <span class="ot">&lt;-</span> Demo13[<span class="fu">c</span>(<span class="st">&quot;SEQN&quot;</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb111-2"><a href="reproducing-results.html#cb111-2" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;RIDEXPRG&quot;</span>, <span class="co"># Pregnancy status at exam</span></span>
<span id="cb111-3"><a href="reproducing-results.html#cb111-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;RIAGENDR&quot;</span>, <span class="co"># Gender</span></span>
<span id="cb111-4"><a href="reproducing-results.html#cb111-4" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;RIDAGEYR&quot;</span>, <span class="co"># Age in years at screening</span></span>
<span id="cb111-5"><a href="reproducing-results.html#cb111-5" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;RIDRETH3&quot;</span>)]  <span class="co"># Race/Hispanic origin w/ NH Asian</span></span>
<span id="cb111-6"><a href="reproducing-results.html#cb111-6" aria-hidden="true" tabindex="-1"></a>exam13select <span class="ot">&lt;-</span> Exam13[<span class="fu">c</span>(<span class="st">&quot;SEQN&quot;</span>, <span class="co"># Respondent sequence number</span></span>
<span id="cb111-7"><a href="reproducing-results.html#cb111-7" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;BMXBMI&quot;</span>)] <span class="co"># Body Mass Index (kg/m**2)</span></span></code></pre></div>
<div id="quick-pick-at-the-data" class="section level3 hasAnchor" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Quick pick at the data<a href="reproducing-results.html#quick-pick-at-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="reproducing-results.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(demo13select)</span></code></pre></div>
<pre><code>##    SEQN RIDEXPRG RIAGENDR RIDAGEYR           RIDRETH3
## 1 73557     &lt;NA&gt;     Male       69 Non-Hispanic Black
## 2 73558     &lt;NA&gt;     Male       54 Non-Hispanic White
## 3 73559     &lt;NA&gt;     Male       72 Non-Hispanic White
## 4 73560     &lt;NA&gt;     Male        9 Non-Hispanic White
## 5 73561     &lt;NA&gt;   Female       73 Non-Hispanic White
## 6 73562     &lt;NA&gt;     Male       56   Mexican American</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="reproducing-results.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(exam13select)</span></code></pre></div>
<pre><code>##    SEQN BMXBMI
## 1 73557   26.7
## 2 73558   28.6
## 3 73559   28.9
## 4 73560   17.1
## 5 73561   19.7
## 6 73562   41.7</code></pre>
</div>
</div>
<div id="merge-dara" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Merge dara<a href="reproducing-results.html#merge-dara" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Use the ID variable <code>SEQN</code> to merge both data:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="reproducing-results.html#cb116-1" aria-hidden="true" tabindex="-1"></a>merged.data <span class="ot">&lt;-</span> <span class="fu">merge</span>(demo13select, exam13select, </span>
<span id="cb116-2"><a href="reproducing-results.html#cb116-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;SEQN&quot;</span>), <span class="at">all=</span><span class="cn">TRUE</span>)</span>
<span id="cb116-3"><a href="reproducing-results.html#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(merged.data)</span></code></pre></div>
<pre><code>##    SEQN RIDEXPRG RIAGENDR RIDAGEYR           RIDRETH3 BMXBMI
## 1 73557     &lt;NA&gt;     Male       69 Non-Hispanic Black   26.7
## 2 73558     &lt;NA&gt;     Male       54 Non-Hispanic White   28.6
## 3 73559     &lt;NA&gt;     Male       72 Non-Hispanic White   28.9
## 4 73560     &lt;NA&gt;     Male        9 Non-Hispanic White   17.1
## 5 73561     &lt;NA&gt;   Female       73 Non-Hispanic White   19.7
## 6 73562     &lt;NA&gt;     Male       56   Mexican American   41.7</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="reproducing-results.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(merged.data)</span></code></pre></div>
<pre><code>## [1] 10175     6</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="reproducing-results.html#cb120-1" aria-hidden="true" tabindex="-1"></a>merged.data<span class="sc">$</span>SEQN <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
<div id="investigate-merged-data" class="section level3 hasAnchor" number="7.4.1">
<h3><span class="header-section-number">7.4.1</span> Investigate merged data<a href="reproducing-results.html#investigate-merged-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Missing data available?</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="reproducing-results.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(tableone)</span></code></pre></div>
<pre><code>## Loading required package: tableone</code></pre>
<pre><code>## Warning: package &#39;tableone&#39; was built under R version 4.2.1</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="reproducing-results.html#cb124-1" aria-hidden="true" tabindex="-1"></a>tab_nhanes <span class="ot">&lt;-</span> <span class="fu">CreateTableOne</span>(<span class="at">data=</span>merged.data,</span>
<span id="cb124-2"><a href="reproducing-results.html#cb124-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">includeNA =</span> <span class="cn">TRUE</span>)</span>
<span id="cb124-3"><a href="reproducing-results.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tab_nhanes, </span>
<span id="cb124-4"><a href="reproducing-results.html#cb124-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">showAllLevels =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##                       
##                        level                            Overall      
##   n                                                     10175        
##   RIDEXPRG (%)         Yes, positive lab pregnancy test    65 ( 0.6) 
##                        The participant was not pregnant  1150 (11.3) 
##                        Cannot ascertain if the particip    94 ( 0.9) 
##                        &lt;NA&gt;                              8866 (87.1) 
##   RIAGENDR (%)         Male                              5003 (49.2) 
##                        Female                            5172 (50.8) 
##   RIDAGEYR (mean (SD))                                  31.48 (24.42)
##   RIDRETH3 (%)         Mexican American                  1730 (17.0) 
##                        Other Hispanic                     960 ( 9.4) 
##                        Non-Hispanic White                3674 (36.1) 
##                        Non-Hispanic Black                2267 (22.3) 
##                        Non-Hispanic Asian                1074 (10.6) 
##                        Other Race - Including Multi-Rac   470 ( 4.6) 
##   BMXBMI (mean (SD))                                    25.68 (7.96)</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="reproducing-results.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(merged.data<span class="sc">$</span>BMXBMI)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##   12.10   19.70   24.70   25.68   30.20   82.90    1120</code></pre>
</div>
</div>
<div id="applying-eligibility-criteria" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Applying eligibility criteria<a href="reproducing-results.html#applying-eligibility-criteria" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We subset the data using criteria similar to the JAMA paper by <span class="citation">Flegal et al. (<a href="references.html#ref-flegal2016trends" role="doc-biblioref">2016</a>)</span> (see above)</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="reproducing-results.html#cb128-1" aria-hidden="true" tabindex="-1"></a>analytic.data1 <span class="ot">&lt;-</span> <span class="fu">subset</span>(merged.data, <span class="sc">!</span><span class="fu">is.na</span>(BMXBMI)) <span class="co"># no missing BMI</span></span>
<span id="cb128-2"><a href="reproducing-results.html#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data1)</span></code></pre></div>
<pre><code>## [1] 9055    5</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="reproducing-results.html#cb130-1" aria-hidden="true" tabindex="-1"></a>analytic.data2 <span class="ot">&lt;-</span> <span class="fu">subset</span>(analytic.data1, RIDAGEYR <span class="sc">&gt;=</span> <span class="dv">20</span>) <span class="co"># Age &gt;= 20</span></span>
<span id="cb130-2"><a href="reproducing-results.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data2)</span></code></pre></div>
<pre><code>## [1] 5520    5</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="reproducing-results.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data2<span class="sc">$</span>RIDEXPRG,<span class="at">useNA =</span> <span class="st">&quot;always&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Yes, positive lab pregnancy test The participant was not pregnant 
##                               65                             1143 
## Cannot ascertain if the particip                             &lt;NA&gt; 
##                               44                             4268</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="reproducing-results.html#cb134-1" aria-hidden="true" tabindex="-1"></a>analytic.data3 <span class="ot">&lt;-</span> <span class="fu">subset</span>(analytic.data2,  <span class="co"># Pregnant women excluded</span></span>
<span id="cb134-2"><a href="reproducing-results.html#cb134-2" aria-hidden="true" tabindex="-1"></a>                         <span class="fu">is.na</span>(RIDEXPRG) <span class="sc">|</span> RIDEXPRG <span class="sc">!=</span> </span>
<span id="cb134-3"><a href="reproducing-results.html#cb134-3" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;Yes, positive lab pregnancy test&quot;</span>)</span>
<span id="cb134-4"><a href="reproducing-results.html#cb134-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(analytic.data3)</span></code></pre></div>
<pre><code>## [1] 5455    5</code></pre>
</div>
<div id="recoding-variables" class="section level2 hasAnchor" number="7.6">
<h2><span class="header-section-number">7.6</span> Recoding variables<a href="reproducing-results.html#recoding-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Recode similar to the JAMA paper by <span class="citation">Flegal et al. (<a href="references.html#ref-flegal2016trends" role="doc-biblioref">2016</a>)</span> (see above)</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="reproducing-results.html#cb136-1" aria-hidden="true" tabindex="-1"></a>analytic.data3<span class="sc">$</span>AgeCat<span class="ot">&lt;-</span><span class="fu">cut</span>(analytic.data3<span class="sc">$</span>RIDAGEYR, </span>
<span id="cb136-2"><a href="reproducing-results.html#cb136-2" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">40</span>,<span class="dv">60</span>,<span class="cn">Inf</span>), </span>
<span id="cb136-3"><a href="reproducing-results.html#cb136-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb136-4"><a href="reproducing-results.html#cb136-4" aria-hidden="true" tabindex="-1"></a>analytic.data3<span class="sc">$</span>Gender <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(analytic.data3<span class="sc">$</span>RIAGENDR, </span>
<span id="cb136-5"><a href="reproducing-results.html#cb136-5" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;&#39;1&#39;=&#39;Male&#39;; </span></span>
<span id="cb136-6"><a href="reproducing-results.html#cb136-6" aria-hidden="true" tabindex="-1"></a><span class="st">                                &#39;2&#39;=&#39;Female&#39;&quot;</span>)</span>
<span id="cb136-7"><a href="reproducing-results.html#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(analytic.data3<span class="sc">$</span>Gender,<span class="at">useNA =</span> <span class="st">&quot;always&quot;</span>)</span></code></pre></div>
<pre><code>## 
## Female   Male   &lt;NA&gt; 
##   2817   2638      0</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="reproducing-results.html#cb138-1" aria-hidden="true" tabindex="-1"></a>analytic.data3<span class="sc">$</span>Race <span class="ot">&lt;-</span> car<span class="sc">::</span><span class="fu">recode</span>(analytic.data3<span class="sc">$</span>RIDRETH3,</span>
<span id="cb138-2"><a href="reproducing-results.html#cb138-2" aria-hidden="true" tabindex="-1"></a>                                <span class="st">&quot;c(&#39;Mexican American&#39;,</span></span>
<span id="cb138-3"><a href="reproducing-results.html#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="st">                                &#39;Other Hispanic&#39;)=&#39;Hispanic&#39;;</span></span>
<span id="cb138-4"><a href="reproducing-results.html#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="st">                                &#39;Non-Hispanic White&#39;=&#39;White&#39;;</span></span>
<span id="cb138-5"><a href="reproducing-results.html#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="st">                                &#39;Non-Hispanic Black&#39;=&#39;Black&#39;;</span></span>
<span id="cb138-6"><a href="reproducing-results.html#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="st">                                &#39;Non-Hispanic Asian&#39;=&#39;Asian&#39;;</span></span>
<span id="cb138-7"><a href="reproducing-results.html#cb138-7" aria-hidden="true" tabindex="-1"></a><span class="st">                                else=NA&quot;</span>)</span>
<span id="cb138-8"><a href="reproducing-results.html#cb138-8" aria-hidden="true" tabindex="-1"></a>analytic.data3<span class="sc">$</span>Race <span class="ot">&lt;-</span> <span class="fu">factor</span>(analytic.data3<span class="sc">$</span>Race, </span>
<span id="cb138-9"><a href="reproducing-results.html#cb138-9" aria-hidden="true" tabindex="-1"></a>                              <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&#39;White&#39;</span>, </span>
<span id="cb138-10"><a href="reproducing-results.html#cb138-10" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">&#39;Black&#39;</span>, </span>
<span id="cb138-11"><a href="reproducing-results.html#cb138-11" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">&#39;Asian&#39;</span>, </span>
<span id="cb138-12"><a href="reproducing-results.html#cb138-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">&#39;Hispanic&#39;</span>))</span></code></pre></div>
</div>
<div id="reproducing-table-1" class="section level2 hasAnchor" number="7.7">
<h2><span class="header-section-number">7.7</span> Reproducing Table 1<a href="reproducing-results.html#reproducing-table-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Compare with Table 1</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="reproducing-results.html#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(analytic.data3, <span class="fu">table</span>(AgeCat,Gender))</span></code></pre></div>
<pre><code>##           Gender
## AgeCat     Female Male
##   [0,20)        0    0
##   [20,40)     901  909
##   [40,60)     999  897
##   [60,Inf)    917  832</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="reproducing-results.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(<span class="fu">with</span>(analytic.data3, <span class="fu">table</span>(AgeCat,Gender)),<span class="dv">1</span>,sum)</span></code></pre></div>
<pre><code>##   [0,20)  [20,40)  [40,60) [60,Inf) 
##        0     1810     1896     1749</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="reproducing-results.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(analytic.data3, <span class="fu">table</span>(AgeCat,Race))</span></code></pre></div>
<pre><code>##           Race
## AgeCat     White Black Asian Hispanic
##   [0,20)       0     0     0        0
##   [20,40)    734   362   216      412
##   [40,60)    759   383   251      449
##   [60,Inf)   850   370   156      353</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="reproducing-results.html#cb145-1" aria-hidden="true" tabindex="-1"></a>analytic.data3m <span class="ot">&lt;-</span> <span class="fu">subset</span>(analytic.data3, </span>
<span id="cb145-2"><a href="reproducing-results.html#cb145-2" aria-hidden="true" tabindex="-1"></a>                          Gender <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>)</span>
<span id="cb145-3"><a href="reproducing-results.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(analytic.data3m, <span class="fu">table</span>(AgeCat,Race))</span></code></pre></div>
<pre><code>##           Race
## AgeCat     White Black Asian Hispanic
##   [0,20)       0     0     0        0
##   [20,40)    386   182   106      189
##   [40,60)    360   179   120      215
##   [60,Inf)   384   195    74      169</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="reproducing-results.html#cb147-1" aria-hidden="true" tabindex="-1"></a>analytic.data3f <span class="ot">&lt;-</span> <span class="fu">subset</span>(analytic.data3, </span>
<span id="cb147-2"><a href="reproducing-results.html#cb147-2" aria-hidden="true" tabindex="-1"></a>                          Gender <span class="sc">==</span> <span class="st">&quot;Female&quot;</span>)</span>
<span id="cb147-3"><a href="reproducing-results.html#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(analytic.data3f, <span class="fu">table</span>(AgeCat,Race))</span></code></pre></div>
<pre><code>##           Race
## AgeCat     White Black Asian Hispanic
##   [0,20)       0     0     0        0
##   [20,40)    348   180   110      223
##   [40,60)    399   204   131      234
##   [60,Inf)   466   175    82      184</code></pre>
<p>Also see <span class="citation">Dhana (<a href="references.html#ref-ds" role="doc-biblioref">2018</a>)</span> for a tidyverse solution.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="importing-nhanes-to-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SurveyBook.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "static"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
